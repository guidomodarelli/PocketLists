@reference "../../../../globals.css";

.tree-list {
  @apply space-y-2;
}

.tree-list__branch {
  @apply mt-2 border-l border-border pl-4;
}

.tree-list__empty {
  @apply rounded-xl border border-dashed border-border bg-muted/50 p-5 text-sm text-muted-foreground;
}

.tree-list__row {
  @apply relative overflow-hidden flex items-center gap-3 rounded-lg bg-card px-2 py-1.5 shadow-xs transition;
}

.tree-list__row--context {
  @apply bg-muted/60 shadow-none;
}

.tree-list__completion-presence {
  @apply pointer-events-none absolute inset-[-2px] rounded-[inherit] border-2 border-primary/70 bg-primary/20;
}

.tree-list__context-checkbox {
  @apply mt-1 inline-flex;
}

.tree-list__confirm-trigger {
  @apply inline-flex;
}

.tree-list__toggle-form {
  @apply inline-flex border-none bg-transparent p-0 shadow-none;
}

.tree-list__checkbox {
  @apply border-input bg-background text-foreground [&_svg]:h-3 [&_svg]:w-3 [&_svg]:stroke-3 data-[state=checked]:border-emerald-600 data-[state=checked]:bg-emerald-600 data-[state=checked]:text-primary-foreground data-[state=indeterminate]:border-emerald-600 data-[state=indeterminate]:bg-emerald-600 data-[state=indeterminate]:text-primary-foreground;
}

.tree-list__checkbox--readonly {
  @apply pointer-events-none disabled:opacity-100;
}

.tree-list__content {
  @apply flex w-full items-center justify-between gap-2;
}

.tree-list__text-wrap {
  @apply flex-1;
}

.tree-list__edit-form {
  @apply w-full;
}

.tree-list__edit-input-group {
  @apply w-full;
}

.tree-list__edit-input {
  @apply h-8 text-sm;
}

.tree-list__edit-save {
  @apply h-7 px-2.5 text-xs;
}

.tree-list__title-trigger {
  @apply block w-full cursor-text rounded-sm border-0 bg-transparent p-0 text-left outline-none focus-visible:ring-2 focus-visible:ring-ring/40 disabled:pointer-events-none disabled:cursor-default;
}

.tree-list__title {
  @apply text-sm font-medium text-foreground;
}

.tree-list__title--completed {
  @apply text-muted-foreground line-through;
}

.tree-list__context-label {
  @apply text-xs text-muted-foreground;
}

.tree-list__add-child-link {
  @apply ml-auto inline-flex h-7 w-7 items-center justify-center rounded-full border border-border bg-card text-sm font-semibold text-muted-foreground shadow-xs transition hover:border-ring/40 hover:text-foreground;
}

.tree-list__actions {
  @apply ml-auto flex items-center gap-2;
}

.tree-list__actions-trigger {
  @apply h-7 w-7 rounded-full p-0 text-muted-foreground hover:bg-muted hover:text-foreground;
}

.tree-list__actions-trigger-icon {
  @apply h-4 w-4;
}

.tree-list__delete-icon {
  @apply h-4 w-4;
}

.tree-list__edit-icon {
  @apply h-4 w-4;
}
